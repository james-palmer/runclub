<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>Rokt Run Club</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <script src="https://code.iconify.design/1/1.0.7/iconify.min.js"></script>
  <!-- <link rel="stylesheet" href="style.css" type="text/css"> -->
  <!-- <script type="text/javascript" src="scripts.js"></script> -->
<!-- ROKT CALENDAR -->
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(d.getElementById(id))return;js=d.createElement(s);js.id=id;js.src ='https://assets.roktcalendar.com/scripts/widget-loader.min.js';fjs.parentNode.insertBefore(js,fjs);}(document,'script', 'calreply-wjs');</script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/MaterialDesign-Webfont/5.8.55/css/materialdesignicons.min.css" rel="stylesheet">
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-JV61ENYB7J"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-JV61ENYB7J');
</script>
<style>
    html, body {
    color: #fff;
    background-color: #000;
    width: 100%;
    overflow-x: hidden;
  }
  a {
    color: white;
    text-decoration: none;
  }
  a:hover {
    color: white
  }
  p a{
    text-decoration: underline;
  }
  p a:hover{
    color:#B51E6D
  }
  .ctas {
    display: flex;
    justify-content: center;
    align-items: middle;
    flex-wrap: wrap;
    width: 300px;
    height:60px;
    border: 1px solid transparent;
    border-radius: 8px;
    text-align: center;
    text-decoration: none;
    transition: 1s ease-in-out;
    color: white;
    margin: 1rem;
    max-width: 400px;
}

.ctas:hover {
  transition: 1s ease-in-out;
  background: transparent;
  border: 1px solid white;
  cursor: pointer;
}
.strava {
background-color: #fc4c02;  
  }

.beetroot {
  background-color: #B51E6D;
  display: flex;
  align-items: center;
  justify-content: center;
    }
.strava-badge img {
    visibility: hidden;
  }
  .strava-badge { 
    height: 50px; 
    width: 50px; 
    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAA9lBMVEUAAACZAADzQQD5SQL6SwL5SwD4SgD5SgD6SwD6SwD7SwD7TAD8TAL8TQP8TgT8TgX8UAj8UQn8VA38VQ/8VxL8WBP8XBj8XRr8Xx38YR/8YSD8YiH8Zib8aCr8bzT8czn8dj38dz/8fkn8hlT9ay79bC/9cTb9eUH9e0X9gEz9hVP9hlT9h1b9i1v9jV79lmr9m3H9nXX9nnX9oHn9pH/9pYD9rYv9r479tZf9vaL+kGP+k2b+lWr+mnD+nXX+o33+pH7+w6r+xaz+zbf+1MH+1sX+28z+4tb+6N7+7ub+8uz+9fD+9vL++vf+/Pr+/Pv+/v3///6EfFEQAAAADHRSTlMABSuPk7zU1fLz/P3uH4g+AAABoElEQVR4AZXWx27jQAzGccVSbMf72U6U3nvvhem994Tv/zLL4RrBApPRUL+DPQf+Ad3IxKmk1Toi6tW0kvzTlf2BSSPr0vlumHW7IkMJmXx/A57ZWQQ0KkkK390dQtKkBs8U8xQCqkkPPLfMtwioJ/BMfjN/TyLAD3DC4sQejH+y+Bw3B8esjq3B8Aerj2FjcMgdh7Zg8J073gdNAfEPsgT5K/94zQ3BHv9nLx70vbDz8MDOS1802Ga1scFqOxa0n9l5brU6j3Yk2GK1A+yw2ioOmk/svPUD/W/sPDULg3lWRxBHrOYLg0d2vsYgxr7YeSwK5ljdQN2wmisI7llNQ02zuv818JySGIEYIXEaDSZIrEGskZiIBjiXsescyK/lcY54sEBiGVgmsWAImhcyeNlqXcrfRdMQYInE4iKJJViC9q6Mnp3Jz27bFGCGOmZgC3r3Se33GgOskFqBNcivSFzl5gCrJFZhDwYOiA4GvKCOoHWidX+h1BA0RDTkr6wUYZub/lLUtRsyOuqv3fKLvfTpIEXWKHWciEpa67GeP38BvhC4JRR8pYwAAAAASUVORK5CYII=);
    background-repeat: no-repeat;
    background-position: 50% 50%;
  }
#countdown-wrap {
  width: 100%;
  height: auto;
  max-width: 80%;
  margin: 50px auto ;
}

.goal {
  text-align: right;
  color: #FFF;
}

.goal-stat{
  font-size: 3rem;
}
.inline{
  display: inline-block;
  vertical-align: middle;
}

#glass {
  width: 100%;
  height: 20px;
  background: #c7c7c7;
  border-radius: 10px;
  float: left;
  overflow: hidden;
}
#progress {
  float: left;
  width: 0%;
  height: 20px;
  background: #B51E6D;
  z-index: 333;
}
 #runner {
  width: 9rem;
  height:auto;
position: relative;
left: -7rem;
}
#calendarIcon {
  font-size: 2rem; 
  margin-right: 0.3rem;
  }

#naidoc{
  width: 100%;
  height: auto  ;
  /* margin: 10% auto; Will not center vertically and won't work in IE6/7. */
  float: left;
  max-width: 300px;
}
.center{
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100%
}

@media screen  and (max-width: 500px) {
  #goal{
    font-size: 2rem;
  }
  #runner {
    width: 5rem;
    height: auto;
    left: -3.5rem;
  }
}
 
</style>
<script>
var accessToken;
var stravaUrl;
var newTotal = 0;
var target = 500;


fetch("https://www.strava.com/api/v3/oauth/token", {
  body: "client_id=67886&client_secret=a1c26e6e240b2f33f9a7b238beb67e3429064745&grant_type=refresh_token&refresh_token=c3f97d70bc5ec4ea18b5e5774d1e6517787d7a0a",
  headers: {
    "Content-Type": "application/x-www-form-urlencoded"
  },
  method: "POST"
})
.then(response => response.json())
.then(function(data){ 
  accessToken = data.access_token
  stravaUrl =
  console.log(accessToken)
})
.then(function distance () {
  console.log( "https://www.strava.com/api/v3/clubs/953670/activities?access_token="+accessToken+"&after=1625320800&per_page=200");
  fetch( "https://www.strava.com/api/v3/clubs/953670/activities?access_token="+accessToken+"&after=1625320800&per_page=200")
  .then(function(resp) {
    resp.json().then(function(data) {
      var p = 0;
      var rc = 0;
   console.log(data);

      data.filter(function(activity) {
        return activity.type === 'Run' 
        // && oneMonthEarlier(activity.start_date)
        ;
      })
      .map(function (activity) {
        p += round(activity.distance, 4);
        rc += 1;
      });

      var meters = parseFloat(p/1000).toFixed(0);
      var progress = (meters/target)*100;
      var runCount = rc;
      console.log(meters);
      console.log(progress);
      document.getElementById('progress').style.width = progress+"%";
      document.getElementById('runner').style.left = progress-11+"%";
      document.getElementById('currentKm').innerHTML = meters+"km so far";
      // document.getElementById('runCount').innerHTML = runCount+" runs recorded";
    });
  }).catch(function(err) {
    console.debug(err);
  });

});
function round(value, decimals) {
  return Number(Math.round(value+'e'+decimals)+'e-'+decimals);
}
</script>
</head>
<body>
<div class="container">
  <div class="row center">
    <div class="col-8">
      <h1>Lockdown Run Club</h1>
      <p>Rokt will donate $1 for each km logged between 4th-11th July 2021 in support of the <a target="_blank" href="https://www.standup.org.au/firstnations_partnerships">Stand Up, First Nations partnership</a>
      </h2> </p>
    </div>
    <div class="col-4">
      <img id="naidoc" src="rokt-naidoc.jpeg">
    </div>
  </div>
  <div class="row">
    <div id=countdown-wrap>
      <div class="goal" id="goal-label">Goal</div>
      <div class="goal" id="goal">500km</div>
      <img id="runner" src="runner.png">
      <div id="glass">
        <div id="progress">
        </div>
      </div>
      <div class="goal-stat">
          <span id="currentKm" class="goal-label">0km so far</span>
      </div> 
    </div>
  </div>

  <div class="row center">
    <div class="col-sm ctas strava">
      <a  target="_blank" href="https://www.strava.com/dashboard?club_id=953670&feed_type=club">
          <div class="row center">
            <div class="col">
              <span class="iconify" width="2rem" data-icon="mdi-strava" data-inline="false"></span>Join the Rokt Run Club on Strava
            </div> 
        </div>
      </a>
      </div>
     
      <div class="col-sm ctas beetroot">
      <a class="col" href="https://roktcompany.roktcalendar.com/sydney-run-club" data-popup="lightbox" data-type="custombutton" data-calreply-binding="true">
        <div class="col">
          <div>
            <span class="mdi mdi-calendar-plus"></span> Add run club to your Calendar
          </div>
          </div>
        </a>
        </div>
     </div>
  <div class="row">
    <div class="col">
    </div>
  </div>
</div>
</body>
</html>